{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\JUN-D\\\\Desktop\\\\HELF-master\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\JUN-D\\\\Desktop\\\\HELF-master\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\JUN-D\\\\Desktop\\\\HELF-master\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\JUN-D\\\\Desktop\\\\HELF-master\\\\front\\\\src\\\\components\\\\ShareBoard\\\\ShareDetail.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { BASE_URL, IMAGE_URL } from \"../../utils/https\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport CheckIcon from \"@mui/icons-material/Check\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport \"./ShareDetail.css\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Title, TotalStyle, RegisterReq, ListButton, UpdateButton, DeleteButton, Titles, Description, ImageThumbnail, CommentBox, CommentHeader, CommentBoxBig, SendButton, CommentTitles, CommentWrapper, FoodListStyle, LikeListStyle, CommentUpdateBox } from \"./ShareDetail.style\";\nimport { AiFillHeart, AiOutlineHeart } from \"react-icons/ai\";\nimport { SHARE_BOARD_ISLIKECHECK_TOTALLIKECOUNT_REQUEST, SHARE_BOARD_LIKE_REGISTER_REQUEST, SHARE_BOARD_UPDATE_REQUEST, SHARE_BOARD_DETAIL_SELECT_REQUEST, SHARE_BOARD_DETAIL_HIT_INCREASE_REQUEST, SHARE_BOARD_DELETE_REQUEST } from \"../../store/modules/shareBoard\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableRow from \"@mui/material/TableRow\";\nimport { FoodTableTitle } from \"../MyDiet/MyDietDetail.style\";\nimport { fontWeight } from \"@mui/system\"; // match 로 현재 게시물 주소에 대한 정보를 props 로 받아온다\n\nfunction Detail(_ref) {\n  var _this = this;\n\n  var match = _ref.match;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      updateForm = _useState2[0],\n      setUpdateForm = _useState2[1];\n\n  var dispatch = useDispatch();\n  var history = useHistory();\n  var index = match.params.index.substring(0);\n  var token = sessionStorage.getItem(\"jwt\");\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      commentData = _useState4[0],\n      setComment = _useState4[1]; // const [userData, setUser] = useState([]);\n\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      LikeCount = _useState6[0],\n      setTotalLikeCount = _useState6[1];\n\n  var _useSelector = useSelector(function (state) {\n    return state.shareBoard;\n  }),\n      isLike = _useSelector.isLike,\n      totalLikeCount = _useSelector.totalLikeCount,\n      shareBoardDetailList = _useSelector.shareBoardDetailList,\n      detailimagePath = _useSelector.detailimagePath,\n      detaildescription = _useSelector.detaildescription,\n      shareUserId = _useSelector.shareUserId,\n      shareUserName = _useSelector.shareUserName,\n      shareDiaryNo = _useSelector.shareDiaryNo;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.mypage;\n  }),\n      me = _useSelector2.me;\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      inputDescription = _useState8[0],\n      setInputDescription = _useState8[1];\n\n  var likeDelete = function likeDelete(boardNo, e) {\n    dispatch({\n      type: SHARE_BOARD_LIKE_REGISTER_REQUEST,\n      data: boardNo\n    });\n  };\n\n  var likeRegister = function likeRegister(boardNo) {\n    dispatch({\n      type: SHARE_BOARD_LIKE_REGISTER_REQUEST,\n      data: boardNo\n    });\n  };\n\n  var updateDescriptionHandler = function updateDescriptionHandler() {\n    setUpdateForm(true);\n  }; // 해당 공유 게시글 Description  수정\n\n\n  var updateDescription = function updateDescription(description) {\n    dispatch({\n      type: SHARE_BOARD_UPDATE_REQUEST,\n      data: {\n        boardNo: index,\n        description: description\n      }\n    });\n    setUpdateForm(false);\n    dispatch({\n      type: SHARE_BOARD_DETAIL_SELECT_REQUEST,\n      data: index\n    });\n  };\n\n  var DescriptionhandleChange = function DescriptionhandleChange(e) {\n    setInputDescription(e.target.value);\n  }; // 최초 1회 실행\n\n\n  useEffect(function () {\n    dispatch({\n      type: SHARE_BOARD_DETAIL_SELECT_REQUEST,\n      data: index\n    });\n    dispatch({\n      type: SHARE_BOARD_ISLIKECHECK_TOTALLIKECOUNT_REQUEST,\n      data: index\n    }); // 조회수 1증가 요청\n\n    dispatch({\n      type: SHARE_BOARD_DETAIL_HIT_INCREASE_REQUEST,\n      data: index\n    });\n  }, []);\n  useEffect(function () {\n    // 좋아요 여부와 좋아요 개수 들고옴.\n    dispatch({\n      type: SHARE_BOARD_ISLIKECHECK_TOTALLIKECOUNT_REQUEST,\n      data: index\n    });\n    setTotalLikeCount(totalLikeCount);\n    dispatch({\n      type: SHARE_BOARD_DETAIL_SELECT_REQUEST,\n      data: index\n    });\n    setInputDescription(detaildescription);\n  }, [totalLikeCount, isLike, detaildescription]); //  댓글 가져오기\n\n  useEffect(function () {\n    axios.get(\"\".concat(BASE_URL, \"comment/findAll/\").concat(index), // `${LOCAL_URL}shareboard/findAll`,\n    {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (response) {\n      // 나중에 response.data 로 data 가져오기 가능\n      setComment(response.data);\n    }).catch(function (err) {\n      history.push(\"/sharedBoard\");\n    });\n  }, [commentData]); // 게시판으로 돌아가기\n\n  var goBack = function goBack() {\n    history.push(\"/sharedBoard\");\n  }; // 공유 게시글 삭제 (공유 해제)\n\n\n  var boardDelete = function boardDelete() {\n    if (window.confirm(\"정말 삭제하시겠습니까?\")) {\n      dispatch({\n        type: SHARE_BOARD_DELETE_REQUEST,\n        data: {\n          diaryNo: shareDiaryNo\n        }\n      });\n      history.push(\"/sharedBoard\");\n    } else {\n      alert(\"취소되었습니다.\");\n    }\n  }; //  댓글 관련\n\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      Comment = _useState10[0],\n      SetComment = _useState10[1];\n\n  var commentHandler = function commentHandler(_ref2) {\n    var value = _ref2.target.value;\n    SetComment(value);\n  };\n\n  var handleCommentRegisterKeyPress = function handleCommentRegisterKeyPress(e) {\n    if (e.key === \"Enter\") {\n      submitHandler(e);\n    }\n  };\n\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n    axios.post(\"\".concat(BASE_URL, \"comment/register\"), {\n      boardNo: index,\n      comment: Comment\n    }, {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      console.log(res);\n      SetComment(\"\");\n    });\n  };\n\n  var commentDeleteHandler = function commentDeleteHandler(commentNo, e) {\n    if (window.confirm(\"정말 삭제하시겠습니까?\")) {\n      axios.delete(\"\".concat(BASE_URL, \"comment/remove/\").concat(commentNo), {\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      }).then(function (res) {\n        console.log(res);\n      });\n    } else {\n      alert(\"취소되었습니다.\");\n    }\n  }; //  댓글 수정\n\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      input = _useState12[0],\n      setInput = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      CommentNoinput = _useState14[0],\n      setCommentNoinput = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      commentUpdateState = _useState16[0],\n      setCommentUpdateState = _useState16[1];\n\n  var handleClick = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(commentNo, commentText, e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setCommentUpdateState(true);\n              setInput(commentText);\n              _context.next = 4;\n              return setCommentNoinput(commentNo);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleClick(_x, _x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleChange = function handleChange(e) {\n    if (e.target.value === \"\") {\n      setInput(\" \");\n    } else {\n      setInput(e.target.value);\n    }\n  };\n\n  var handleKeydown = function handleKeydown(e) {\n    if (e.key === \"Enter\") {\n      setInput(e.target.value);\n      axios.put(\"\".concat(BASE_URL, \"comment/update\"), {\n        commentNo: CommentNoinput,\n        comment: input\n      }, {\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      }).then(function (res) {\n        console.log(res);\n        setInput(\"\");\n        setCommentNoinput(\"\");\n      });\n    }\n  };\n\n  var handleCommentUpdateClose = function handleCommentUpdateClose(e) {\n    setCommentUpdateState(false);\n    setInput(\"\");\n    setCommentNoinput(\"\");\n  };\n\n  var handleCommentUpdate = function handleCommentUpdate() {\n    axios.put(\"\".concat(BASE_URL, \"comment/update\"), {\n      commentNo: CommentNoinput,\n      comment: input\n    }, {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      setInput(\"\");\n      setCommentNoinput(\"\");\n    });\n  };\n\n  var FoodList = shareBoardDetailList.map(function (food, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FoodTableTitle, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }\n    }, food.food_name, \" \", food.weight, \"g\"), /*#__PURE__*/React.createElement(TableContainer, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableBody, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      sx: {\n        fontWeight: \"bold\"\n      },\n      style: {\n        width: \"25%\"\n      },\n      align: \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }\n    }, \"\\uCE7C\\uB85C\\uB9AC\"), /*#__PURE__*/React.createElement(TableCell, {\n      sx: {\n        fontWeight: \"bold\"\n      },\n      style: {\n        width: \"25%\"\n      },\n      align: \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }\n    }, \"\\uD0C4\\uC218\\uD654\\uBB3C\"), /*#__PURE__*/React.createElement(TableCell, {\n      sx: {\n        fontWeight: \"bold\"\n      },\n      style: {\n        width: \"25%\"\n      },\n      align: \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }\n    }, \"\\uB2E8\\uBC31\\uC9C8\"), /*#__PURE__*/React.createElement(TableCell, {\n      sx: {\n        fontWeight: \"bold\"\n      },\n      style: {\n        width: \"25%\"\n      },\n      align: \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 17\n      }\n    }, \"\\uC9C0\\uBC29\")), /*#__PURE__*/React.createElement(TableRow, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      style: {\n        width: \"25%\"\n      },\n      align: \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 17\n      }\n    }, food.kcal && Math.round(food.weight / 100 * food.kcal * 100) / 100), /*#__PURE__*/React.createElement(TableCell, {\n      style: {\n        width: \"25%\"\n      },\n      align: \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 17\n      }\n    }, food.carbohydrate && Math.round(food.weight / 100 * food.carbohydrate * 100) / 100), /*#__PURE__*/React.createElement(TableCell, {\n      style: {\n        width: \"25%\"\n      },\n      align: \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 17\n      }\n    }, food.protein && Math.round(food.weight / 100 * food.protein * 100) / 100), /*#__PURE__*/React.createElement(TableCell, {\n      style: {\n        width: \"25%\"\n      },\n      align: \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 17\n      }\n    }, food.fat && Math.round(food.weight / 100 * food.fat * 100) / 100))))));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bigBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 9\n    }\n  }, \"\\uC2DD\\uB2E8 \\uC0C1\\uC138\\uC815\\uBCF4\"), /*#__PURE__*/React.createElement(TotalStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ImageThumbnail, {\n    src: \"\".concat(IMAGE_URL).concat(detailimagePath),\n    alt: \"diet diary image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(RegisterReq, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Titles, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 17\n    }\n  }, shareUserId, \"\\uB2D8\\uC758 \\uC2DD\\uB2E8\", me.userId === shareUserId && updateForm === false ? /*#__PURE__*/React.createElement(EditIcon, {\n    style: {\n      cursor: \"pointer\"\n    },\n    onClick: function onClick(e) {\n      updateDescriptionHandler(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 21\n    }\n  }, \" \", \"\\uC218\\uC815\") : null, updateForm === true ? /*#__PURE__*/React.createElement(UpdateButton, {\n    onClick: function onClick() {\n      updateDescription(inputDescription);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 21\n    }\n  }, \"\\uC644\\uB8CC\") : null), updateForm === false ? /*#__PURE__*/React.createElement(Description, {\n    rows: \"5\",\n    readOnly: true,\n    value: detaildescription,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 19\n    }\n  }) : /*#__PURE__*/React.createElement(Description, {\n    rows: \"5\",\n    type: \"text\",\n    defaultValue: detaildescription,\n    onChange: DescriptionhandleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(FoodListStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 17\n    }\n  }, shareBoardDetailList.length !== 0 && FoodList)), isLike ? /*#__PURE__*/React.createElement(LikeListStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(AiFillHeart, {\n    size: \"20\",\n    className: \"iconMargin\",\n    onClick: function onClick(e) {\n      likeDelete(index, e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Titles, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 21\n    }\n  }, LikeCount, \"\\uBA85\\uC774 \\uC88B\\uC544\\uD569\\uB2C8\\uB2E4.\"))) : /*#__PURE__*/React.createElement(LikeListStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(AiOutlineHeart, {\n    size: \"20\",\n    className: \"iconMargin\",\n    onClick: function onClick() {\n      likeRegister(index);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Titles, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 21\n    }\n  }, LikeCount, \"\\uBA85\\uC774 \\uC88B\\uC544\\uD569\\uB2C8\\uB2E4.\")))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"3%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Titles, {\n    className: \"newText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 15\n    }\n  }, \" \\uB313\\uAE00\"), /*#__PURE__*/React.createElement(CommentHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CommentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CommentBox, {\n    onKeyPress: handleCommentRegisterKeyPress,\n    placeholder: \"\\uB313\\uAE00\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n    value: Comment,\n    onChange: commentHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(SendButton, {\n    onClick: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 19\n    }\n  }, \"\\uB4F1\\uB85D\"))), /*#__PURE__*/React.createElement(CommentBoxBig, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 17\n    }\n  }, commentData.map(function (user) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: user.comment_no,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 21\n      }\n    }, me.userId == user.user_id ? /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"11\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(CommentTitles, {\n      className: \"newText\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 29\n      }\n    }, user.user_id, \" :\", input ? user.comment_no === CommentNoinput ? /*#__PURE__*/React.createElement(CommentUpdateBox, {\n      type: \"text\",\n      value: input,\n      onChange: handleChange,\n      onKeyDown: handleKeydown,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 35\n      }\n    }) : /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontFamily: \"KOTRA_GOTHIC\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 35\n      }\n    }, \" \", user.comment) : /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontFamily: \"KOTRA_GOTHIC\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 33\n      }\n    }, \" \", user.comment))), /*#__PURE__*/React.createElement(Col, {\n      md: \"1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 27\n      }\n    }, commentUpdateState && user.comment_no === CommentNoinput ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CloseIcon, {\n      style: {\n        cursor: \"pointer\",\n        float: \"right\",\n        marginTop: \"10%\"\n      },\n      onClick: handleCommentUpdateClose,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(CheckIcon, {\n      style: {\n        cursor: \"pointer\",\n        marginRight: \"5px\",\n        float: \"right\",\n        marginTop: \"10%\"\n      },\n      onClick: handleCommentUpdate,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 33\n      }\n    })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DeleteIcon, {\n      style: {\n        cursor: \"pointer\",\n        marginLeft: \"5px\",\n        float: \"right\"\n      },\n      onClick: function onClick(e) {\n        commentDeleteHandler(user.comment_no);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(EditIcon, {\n      style: {\n        cursor: \"pointer\",\n        float: \"right\"\n      },\n      onClick: function onClick(e) {\n        handleClick(user.comment_no, user.comment);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 33\n      }\n    })))) : /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"11\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(CommentTitles, {\n      className: \"newText\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 29\n      }\n    }, user.user_id, \" :\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontFamily: \"KOTRA_GOTHIC\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 31\n      }\n    }, \" \", user.comment)))));\n  })))))), /*#__PURE__*/React.createElement(ListButton, {\n    onClick: goBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 9\n    }\n  }, \"\\uBAA9\\uB85D\"), me.userId === shareUserId && updateForm === false ? /*#__PURE__*/React.createElement(DeleteButton, {\n    onClick: boardDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 11\n    }\n  }, \"\\uC0AD\\uC81C\") : null));\n}\n\nexport default Detail;","map":{"version":3,"sources":["C:/Users/JUN-D/Desktop/HELF-master/front/src/components/ShareBoard/ShareDetail.js"],"names":["React","useState","useEffect","axios","useHistory","BASE_URL","IMAGE_URL","DeleteIcon","EditIcon","CheckIcon","CloseIcon","Container","Row","Col","useDispatch","useSelector","Title","TotalStyle","RegisterReq","ListButton","UpdateButton","DeleteButton","Titles","Description","ImageThumbnail","CommentBox","CommentHeader","CommentBoxBig","SendButton","CommentTitles","CommentWrapper","FoodListStyle","LikeListStyle","CommentUpdateBox","AiFillHeart","AiOutlineHeart","SHARE_BOARD_ISLIKECHECK_TOTALLIKECOUNT_REQUEST","SHARE_BOARD_LIKE_REGISTER_REQUEST","SHARE_BOARD_UPDATE_REQUEST","SHARE_BOARD_DETAIL_SELECT_REQUEST","SHARE_BOARD_DETAIL_HIT_INCREASE_REQUEST","SHARE_BOARD_DELETE_REQUEST","Table","TableBody","TableCell","TableContainer","TableRow","FoodTableTitle","fontWeight","Detail","match","updateForm","setUpdateForm","dispatch","history","index","params","substring","token","sessionStorage","getItem","commentData","setComment","LikeCount","setTotalLikeCount","state","shareBoard","isLike","totalLikeCount","shareBoardDetailList","detailimagePath","detaildescription","shareUserId","shareUserName","shareDiaryNo","mypage","me","inputDescription","setInputDescription","likeDelete","boardNo","e","type","data","likeRegister","updateDescriptionHandler","updateDescription","description","DescriptionhandleChange","target","value","get","headers","Authorization","then","response","catch","err","push","goBack","boardDelete","window","confirm","diaryNo","alert","Comment","SetComment","commentHandler","handleCommentRegisterKeyPress","key","submitHandler","preventDefault","post","comment","res","console","log","commentDeleteHandler","commentNo","delete","input","setInput","CommentNoinput","setCommentNoinput","commentUpdateState","setCommentUpdateState","handleClick","commentText","handleChange","handleKeydown","put","handleCommentUpdateClose","handleCommentUpdate","FoodList","map","food","food_name","weight","width","kcal","Math","round","carbohydrate","protein","fat","userId","cursor","length","marginTop","user","comment_no","user_id","fontFamily","float","marginRight","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { BASE_URL, IMAGE_URL } from \"../../utils/https\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport CheckIcon from \"@mui/icons-material/Check\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport \"./ShareDetail.css\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  Title,\n  TotalStyle,\n  RegisterReq,\n  ListButton,\n  UpdateButton,\n  DeleteButton,\n  Titles,\n  Description,\n  ImageThumbnail,\n  CommentBox,\n  CommentHeader,\n  CommentBoxBig,\n  SendButton,\n  CommentTitles,\n  CommentWrapper,\n  FoodListStyle,\n  LikeListStyle,\n  CommentUpdateBox,\n} from \"./ShareDetail.style\";\nimport { AiFillHeart, AiOutlineHeart } from \"react-icons/ai\";\n\nimport {\n  SHARE_BOARD_ISLIKECHECK_TOTALLIKECOUNT_REQUEST,\n  SHARE_BOARD_LIKE_REGISTER_REQUEST,\n  SHARE_BOARD_UPDATE_REQUEST,\n  SHARE_BOARD_DETAIL_SELECT_REQUEST,\n  SHARE_BOARD_DETAIL_HIT_INCREASE_REQUEST,\n  SHARE_BOARD_DELETE_REQUEST,\n} from \"../../store/modules/shareBoard\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableRow from \"@mui/material/TableRow\";\n\nimport { FoodTableTitle } from \"../MyDiet/MyDietDetail.style\";\nimport { fontWeight } from \"@mui/system\";\n// match 로 현재 게시물 주소에 대한 정보를 props 로 받아온다\nfunction Detail({ match }) {\n  const [updateForm, setUpdateForm] = useState(false);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const index = match.params.index.substring(0);\n  const token = sessionStorage.getItem(\"jwt\");\n\n  const [commentData, setComment] = useState([]);\n  // const [userData, setUser] = useState([]);\n  const [LikeCount, setTotalLikeCount] = useState(0);\n  const {\n    isLike,\n    totalLikeCount,\n    shareBoardDetailList,\n    detailimagePath,\n    detaildescription,\n    shareUserId,\n    shareUserName,\n    shareDiaryNo,\n  } = useSelector((state) => state.shareBoard);\n  const { me } = useSelector((state) => state.mypage);\n\n  var [inputDescription, setInputDescription] = useState(\"\");\n  const likeDelete = (boardNo, e) => {\n    dispatch({\n      type: SHARE_BOARD_LIKE_REGISTER_REQUEST,\n      data: boardNo,\n    });\n  };\n  const likeRegister = (boardNo) => {\n    dispatch({\n      type: SHARE_BOARD_LIKE_REGISTER_REQUEST,\n      data: boardNo,\n    });\n  };\n  const updateDescriptionHandler = () => {\n    setUpdateForm(true);\n  };\n  // 해당 공유 게시글 Description  수정\n  const updateDescription = (description) => {\n    dispatch({\n      type: SHARE_BOARD_UPDATE_REQUEST,\n      data: {\n        boardNo: index,\n        description: description,\n      },\n    });\n    setUpdateForm(false);\n    dispatch({\n      type: SHARE_BOARD_DETAIL_SELECT_REQUEST,\n      data: index,\n    });\n  };\n\n  const DescriptionhandleChange = (e) => {\n    setInputDescription(e.target.value);\n  };\n\n  // 최초 1회 실행\n  useEffect(() => {\n    dispatch({\n      type: SHARE_BOARD_DETAIL_SELECT_REQUEST,\n      data: index,\n    });\n    dispatch({\n      type: SHARE_BOARD_ISLIKECHECK_TOTALLIKECOUNT_REQUEST,\n      data: index,\n    });\n    // 조회수 1증가 요청\n    dispatch({\n      type: SHARE_BOARD_DETAIL_HIT_INCREASE_REQUEST,\n      data: index,\n    });\n  }, []);\n\n  useEffect(() => {\n    // 좋아요 여부와 좋아요 개수 들고옴.\n    dispatch({\n      type: SHARE_BOARD_ISLIKECHECK_TOTALLIKECOUNT_REQUEST,\n      data: index,\n    });\n    setTotalLikeCount(totalLikeCount);\n    dispatch({\n      type: SHARE_BOARD_DETAIL_SELECT_REQUEST,\n      data: index,\n    });\n    setInputDescription(detaildescription);\n  }, [totalLikeCount, isLike, detaildescription]);\n\n  //  댓글 가져오기\n  useEffect(() => {\n    axios\n      .get(\n        `${BASE_URL}comment/findAll/${index}`,\n        // `${LOCAL_URL}shareboard/findAll`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      )\n      .then((response) => {\n        // 나중에 response.data 로 data 가져오기 가능\n        setComment(response.data);\n      })\n      .catch((err) => {\n        history.push(`/sharedBoard`);\n      });\n  }, [commentData]);\n\n  // 게시판으로 돌아가기\n  const goBack = () => {\n    history.push(`/sharedBoard`);\n  };\n\n  // 공유 게시글 삭제 (공유 해제)\n  const boardDelete = () => {\n    if (window.confirm(\"정말 삭제하시겠습니까?\")) {\n      dispatch({\n        type: SHARE_BOARD_DELETE_REQUEST,\n        data: {\n          diaryNo: shareDiaryNo,\n        },\n      });\n      history.push(`/sharedBoard`);\n    } else {\n      alert(\"취소되었습니다.\");\n    }\n  };\n\n  //  댓글 관련\n  const [Comment, SetComment] = useState(\"\");\n\n  const commentHandler = ({ target: { value } }) => {\n    SetComment(value);\n  };\n\n  const handleCommentRegisterKeyPress = (e) => {\n    if (e.key === \"Enter\") {\n      submitHandler(e);\n    }\n  };\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    axios\n      .post(\n        `${BASE_URL}comment/register`,\n        { boardNo: index, comment: Comment },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      )\n      .then((res) => {\n        console.log(res);\n        SetComment(\"\");\n      });\n  };\n  const commentDeleteHandler = (commentNo, e) => {\n    if (window.confirm(\"정말 삭제하시겠습니까?\")) {\n      axios\n        .delete(`${BASE_URL}comment/remove/${commentNo}`, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n        .then((res) => {\n          console.log(res);\n        });\n    } else {\n      alert(\"취소되었습니다.\");\n    }\n  };\n  //  댓글 수정\n  let [input, setInput] = useState(\"\");\n  let [CommentNoinput, setCommentNoinput] = useState(\"\");\n  const [commentUpdateState, setCommentUpdateState] = useState(false);\n\n  const handleClick = async (commentNo, commentText, e) => {\n    setCommentUpdateState(true);\n    setInput(commentText);\n    await setCommentNoinput(commentNo);\n  };\n\n  const handleChange = (e) => {\n    if (e.target.value === \"\") {\n      setInput(\" \");\n    } else {\n      setInput(e.target.value);\n    }\n  };\n  const handleKeydown = (e) => {\n    if (e.key === \"Enter\") {\n      setInput(e.target.value);\n      axios\n        .put(\n          `${BASE_URL}comment/update`,\n          { commentNo: CommentNoinput, comment: input },\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          }\n        )\n        .then((res) => {\n          console.log(res);\n          setInput(\"\");\n          setCommentNoinput(\"\");\n        });\n    }\n  };\n\n  const handleCommentUpdateClose = (e) => {\n    setCommentUpdateState(false);\n    setInput(\"\");\n    setCommentNoinput(\"\");\n  };\n\n  const handleCommentUpdate = () => {\n    axios\n      .put(\n        `${BASE_URL}comment/update`,\n        { commentNo: CommentNoinput, comment: input },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      )\n      .then((res) => {\n        setInput(\"\");\n        setCommentNoinput(\"\");\n      });\n  };\n\n  const FoodList = shareBoardDetailList.map((food, index) => {\n    return (\n      <div key={index}>\n        <FoodTableTitle>\n          {food.food_name} {food.weight}g\n        </FoodTableTitle>\n        <TableContainer>\n          <Table>\n            <TableBody>\n              <TableRow>\n                <TableCell\n                  sx={{ fontWeight: \"bold\" }}\n                  style={{ width: \"25%\" }}\n                  align=\"center\"\n                >\n                  칼로리\n                </TableCell>\n                <TableCell\n                  sx={{ fontWeight: \"bold\" }}\n                  style={{ width: \"25%\" }}\n                  align=\"center\"\n                >\n                  탄수화물\n                </TableCell>\n                <TableCell\n                  sx={{ fontWeight: \"bold\" }}\n                  style={{ width: \"25%\" }}\n                  align=\"center\"\n                >\n                  단백질\n                </TableCell>\n                <TableCell\n                  sx={{ fontWeight: \"bold\" }}\n                  style={{ width: \"25%\" }}\n                  align=\"center\"\n                >\n                  지방\n                </TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell style={{ width: \"25%\" }} align=\"center\">\n                  {food.kcal &&\n                    Math.round((food.weight / 100) * food.kcal * 100) / 100}\n                </TableCell>\n                <TableCell style={{ width: \"25%\" }} align=\"center\">\n                  {food.carbohydrate &&\n                    Math.round((food.weight / 100) * food.carbohydrate * 100) /\n                      100}\n                </TableCell>\n                <TableCell style={{ width: \"25%\" }} align=\"center\">\n                  {food.protein &&\n                    Math.round((food.weight / 100) * food.protein * 100) / 100}\n                </TableCell>\n                <TableCell style={{ width: \"25%\" }} align=\"center\">\n                  {food.fat &&\n                    Math.round((food.weight / 100) * food.fat * 100) / 100}\n                </TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </div>\n    );\n  });\n\n  return (\n    <div className=\"bigBox\">\n      <Container>\n        <Title>식단 상세정보</Title>\n        <TotalStyle>\n          <Row>\n            <Col>\n              <ImageThumbnail\n                src={`${IMAGE_URL}${detailimagePath}`}\n                alt=\"diet diary image\"\n              ></ImageThumbnail>\n            </Col>\n            <Col>\n              <RegisterReq>\n                <Titles>\n                  {shareUserId}님의 식단\n                  {/* 작성자 == 조회자 이면 수정 버튼 활성화 */}\n                  {me.userId === shareUserId && updateForm === false ? (\n                    <EditIcon\n                      style={{ cursor: \"pointer\" }}\n                      onClick={(e) => {\n                        updateDescriptionHandler(e);\n                      }}\n                    >\n                      {\" \"}\n                      수정\n                    </EditIcon>\n                  ) : null}\n                  {updateForm === true ? (\n                    <UpdateButton\n                      onClick={() => {\n                        updateDescription(inputDescription);\n                      }}\n                    >\n                      완료\n                    </UpdateButton>\n                  ) : null}\n                </Titles>\n\n                {updateForm === false ? (\n                  <Description rows=\"5\" readOnly value={detaildescription} />\n                ) : (\n                  <Description\n                    rows=\"5\"\n                    type=\"text\"\n                    defaultValue={detaildescription}\n                    onChange={DescriptionhandleChange}\n                  />\n                )}\n                <FoodListStyle>\n                  {shareBoardDetailList.length !== 0 && FoodList}\n                </FoodListStyle>\n              </RegisterReq>\n              {isLike ? (\n                <LikeListStyle>\n                  <div className=\"total\">\n                    <AiFillHeart\n                      size=\"20\"\n                      className=\"iconMargin\"\n                      onClick={(e) => {\n                        likeDelete(index, e);\n                      }}\n                    />\n                    <Titles>{LikeCount}명이 좋아합니다.</Titles>\n                  </div>\n                </LikeListStyle>\n              ) : (\n                <LikeListStyle>\n                  <div className=\"total\">\n                    <AiOutlineHeart\n                      size=\"20\"\n                      className=\"iconMargin\"\n                      onClick={() => {\n                        likeRegister(index);\n                      }}\n                    />\n                    <Titles>{LikeCount}명이 좋아합니다.</Titles>\n                  </div>\n                </LikeListStyle>\n              )}\n            </Col>\n            <div style={{ marginTop: \"3%\" }}>\n              <Titles className=\"newText\"> 댓글</Titles>\n              <CommentHeader>\n                <CommentWrapper>\n                  <CommentBox\n                    onKeyPress={handleCommentRegisterKeyPress}\n                    placeholder=\"댓글을 입력하세요.\"\n                    value={Comment}\n                    onChange={commentHandler}\n                  />\n                  <SendButton onClick={submitHandler}>등록</SendButton>\n                </CommentWrapper>\n              </CommentHeader>\n              <CommentBoxBig>\n                {/*  댓글 보이기 */}\n                <div>\n                  {commentData.map((user) => (\n                    <div key={user.comment_no}>\n                      {me.userId == user.user_id ? (\n                        <Row>\n                          <Col md=\"11\">\n                            <CommentTitles className=\"newText\">\n                              {user.user_id} :\n                              {input ? (\n                                user.comment_no === CommentNoinput ? (\n                                  <CommentUpdateBox\n                                    type=\"text\"\n                                    value={input}\n                                    onChange={handleChange}\n                                    onKeyDown={handleKeydown}\n                                  />\n                                ) : (\n                                  <span style={{ fontFamily: \"KOTRA_GOTHIC\" }}>\n                                    {\" \"}\n                                    {user.comment}\n                                  </span>\n                                )\n                              ) : (\n                                <span style={{ fontFamily: \"KOTRA_GOTHIC\" }}>\n                                  {\" \"}\n                                  {user.comment}\n                                </span>\n                              )}\n                            </CommentTitles>\n                          </Col>\n                          <Col md=\"1\">\n                            {commentUpdateState &&\n                            user.comment_no === CommentNoinput ? (\n                              <>\n                                <CloseIcon\n                                  style={{\n                                    cursor: \"pointer\",\n                                    float: \"right\",\n                                    marginTop: \"10%\",\n                                  }}\n                                  onClick={handleCommentUpdateClose}\n                                ></CloseIcon>\n                                <CheckIcon\n                                  style={{\n                                    cursor: \"pointer\",\n                                    marginRight: \"5px\",\n                                    float: \"right\",\n                                    marginTop: \"10%\",\n                                  }}\n                                  onClick={handleCommentUpdate}\n                                ></CheckIcon>\n                              </>\n                            ) : (\n                              <>\n                                {/* 삭제파트 */}\n                                <DeleteIcon\n                                  style={{\n                                    cursor: \"pointer\",\n                                    marginLeft: \"5px\",\n                                    float: \"right\",\n                                  }}\n                                  onClick={(e) => {\n                                    commentDeleteHandler(user.comment_no);\n                                  }}\n                                />\n                                {/*  수정파트 */}\n                                <EditIcon\n                                  style={{ cursor: \"pointer\", float: \"right\" }}\n                                  onClick={(e) => {\n                                    handleClick(user.comment_no, user.comment);\n                                  }}\n                                />\n                              </>\n                            )}\n                          </Col>\n                        </Row>\n                      ) : (\n                        <Row>\n                          <Col md=\"11\">\n                            <CommentTitles className=\"newText\">\n                              {user.user_id} :{\" \"}\n                              <span style={{ fontFamily: \"KOTRA_GOTHIC\" }}>\n                                {\" \"}\n                                {user.comment}\n                              </span>\n                            </CommentTitles>\n                          </Col>\n                        </Row>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </CommentBoxBig>\n            </div>\n          </Row>\n        </TotalStyle>\n        <ListButton onClick={goBack}>목록</ListButton>\n\n        {me.userId === shareUserId && updateForm === false ? (\n          <DeleteButton onClick={boardDelete}>삭제</DeleteButton>\n        ) : null}\n      </Container>\n    </div>\n  );\n}\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}