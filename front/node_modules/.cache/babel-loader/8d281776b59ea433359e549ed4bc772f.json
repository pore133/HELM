{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/core/center_template.js)\r\n * Version: 23.1.6\r\n * Build date: Fri Oct 13 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { patchFontOptions } from \"../core/utils\";\nimport { noop } from \"../../core/utils/common\";\nvar pieChartPlugin = {\n  name: \"center_template_pie_chart\",\n  init: noop,\n  dispose: function dispose() {\n    this._centerTemplateGroup.linkOff().dispose();\n  },\n  extenders: {\n    _createHtmlStructure: function _createHtmlStructure() {\n      var patchedFontOptions = patchFontOptions(this._themeManager._font);\n      this._centerTemplateGroup = this._renderer.g().attr({\n        class: \"dxc-hole-template\"\n      }).linkOn(this._renderer.root, \"center-template\").css(patchedFontOptions).linkAppend();\n    },\n    _renderExtraElements: function _renderExtraElements() {\n      this._requestChange([\"CENTER_TEMPLATE\"]);\n    }\n  },\n  members: {\n    _renderCenterTemplate: function _renderCenterTemplate() {\n      var template = this.option(\"centerTemplate\");\n\n      var centerTemplateGroup = this._centerTemplateGroup.clear();\n\n      if (!template) {\n        return;\n      }\n\n      centerTemplateGroup.attr({\n        visibility: \"hidden\"\n      });\n\n      var center = this._getCenter();\n\n      this._getTemplate(template).render({\n        model: this,\n        container: centerTemplateGroup.element,\n        onRendered: function onRendered() {\n          var group = centerTemplateGroup;\n          var bBox = group.getBBox();\n          var bBoxCenterX = bBox.x + bBox.width / 2;\n          var bBoxCenterY = bBox.y + bBox.height / 2;\n          group.move(center.x - bBoxCenterX, center.y - bBoxCenterY);\n          group.attr({\n            visibility: \"visible\"\n          });\n        }\n      });\n    }\n  },\n  customize: function customize(constructor) {\n    constructor.addChange({\n      code: \"CENTER_TEMPLATE\",\n      handler: function handler() {\n        this._renderCenterTemplate();\n      },\n      option: \"centerTemplate\"\n    });\n  }\n};\nvar gaugePlugin = {\n  name: \"center_template_gauge\",\n  init: noop,\n  dispose: pieChartPlugin.dispose,\n  extenders: {\n    _initCore: function _initCore() {\n      this._createCenterTemplateGroup();\n    },\n    _renderContent: function _renderContent() {\n      var patchedFontOptions = patchFontOptions(this._themeManager._font);\n\n      this._centerTemplateGroup.css(patchedFontOptions);\n\n      this._requestChange([\"CENTER_TEMPLATE\"]);\n    },\n    _updateExtraElements: function _updateExtraElements() {\n      this._requestChange([\"CENTER_TEMPLATE\"]);\n    }\n  },\n  members: {\n    _renderCenterTemplate: pieChartPlugin.members._renderCenterTemplate,\n    _createCenterTemplateGroup: function _createCenterTemplateGroup() {\n      this._centerTemplateGroup = this._renderer.g().attr({\n        class: \"dxg-hole-template\"\n      }).linkOn(this._renderer.root, \"center-template\").linkAppend();\n    }\n  },\n  customize: pieChartPlugin.customize\n};\nexport var plugins = {\n  pieChart: pieChartPlugin,\n  gauge: gaugePlugin\n};","map":null,"metadata":{},"sourceType":"module"}