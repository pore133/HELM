{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\JUN-D\\\\Desktop\\\\\\uD5EC\\uC2A4\\uCF00\\uC5B4\\\\11_6\\\\HELM\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:\\\\Users\\\\JUN-D\\\\Desktop\\\\\\uD5EC\\uC2A4\\uCF00\\uC5B4\\\\11_6\\\\HELM\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\JUN-D\\\\Desktop\\\\\\uD5EC\\uC2A4\\uCF00\\uC5B4\\\\11_6\\\\HELM\\\\front\\\\src\\\\components\\\\MyDiet\\\\MyDietDaily.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport Box from '@mui/material/Box';\nimport Fab from '@mui/material/Fab';\nimport Grid from '@mui/material/Grid';\nimport AddIcon from '@mui/icons-material/Add';\nimport Typography from '@mui/material/Typography';\nimport Modal from '@mui/material/Modal';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport IconButton from '@mui/material/IconButton';\nimport ArrowBackIosOutlinedIcon from '@mui/icons-material/ArrowBackIosOutlined';\nimport { IMAGE_URL } from '../../utils/https';\nimport { MY_DIET_DIARY_DAILY_INFO_REQUEST, MY_DIET_DIARY_DELETE_REQUEST } from '../../store/modules/myDiet';\nimport { SHARE_BOARD_REGISTER_REQUEST, SHARE_BOARD_DELETE_REQUEST } from '../../store/modules/shareBoard';\nimport { DietDiaryItemWrapper, addButton, ShareButton, DietDiaryItem, TotalKcal, shareBox, DescriptionArea, ButtonWrapper, ConfirmButton, CancelButton, Bold, DiaryItemWrapper, DiaryItemLeftWrapper, DiaryItemRightWrapper, DiaryImg, DiaryTitle, DiaryTime, DiaryKcal, DiaryDesc, fontNormal, MenuTitle, SharedButton, modalTitle } from './MyDiet.style';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSelect } from '@mui/base';\n\nfunction convertMonth(month) {\n  switch (month) {\n    case '01':\n      return 'Jan';\n\n    case '02':\n      return 'Feb';\n\n    case '03':\n      return 'Mar';\n\n    case '04':\n      return 'Apr';\n\n    case '05':\n      return 'May';\n\n    case '06':\n      return 'Jun';\n\n    case '07':\n      return 'Jul';\n\n    case '08':\n      return 'Aug';\n\n    case '09':\n      return 'Sep';\n\n    case '10':\n      return 'Oct';\n\n    case '11':\n      return 'Nov';\n\n    case '12':\n      return 'Dec';\n  }\n}\n\nexport default function MyDietDaily() {\n  var _this = this;\n\n  var dispatch = useDispatch();\n  var date = useParams().date;\n\n  var _useSelector = useSelector(function (state) {\n    return state.myDiet;\n  }),\n      myDietDiaryDailyInfo = _useSelector.myDietDiaryDailyInfo,\n      myDietDiaryDeleteDone = _useSelector.myDietDiaryDeleteDone;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.mypage;\n  }),\n      me = _useSelector2.me;\n\n  var _useSelector3 = useSelector(function (state) {\n    return state.shareBoard;\n  }),\n      shareBoardDeleteDone = _useSelector3.shareBoardDeleteDone;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      shareDiaryNo = _useState4[0],\n      setShareDiaryNo = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      shareDescription = _useState6[0],\n      setShareDescription = _useState6[1];\n\n  var handleOpen = function handleOpen(info) {\n    setShareDiaryNo(info.diaryNo);\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    return setOpen(false);\n  };\n\n  var handleCancelShare = function handleCancelShare(info) {\n    if (window.confirm('식단 공유를 중지하시겠습니까?')) {\n      dispatch({\n        type: SHARE_BOARD_DELETE_REQUEST,\n        data: {\n          diaryNo: info.diaryNo\n        }\n      }); // history.push(`/sharedBoard`);\n    } else {\n      alert('취소되었습니다.');\n    }\n  };\n\n  var handleConfirmKeyPress = function handleConfirmKeyPress(event) {\n    if (event.key === 'Enter') {\n      handleShareDietDiary();\n    }\n  };\n\n  var dailyDate = convertMonth(date.substring(5, 7)) + ' ' + date.substring(8, 10) + ', ' + date.substring(0, 4);\n  var kcalList = [];\n  var diaryInfoList = [];\n\n  for (var i = 0; i < myDietDiaryDailyInfo.length; i++) {\n    var kcals = 0;\n    var hour = myDietDiaryDailyInfo[i].diaryDate.substring(11, 13);\n    var minute = myDietDiaryDailyInfo[i].diaryDate.substring(14, 16);\n    var diaryDate = myDietDiaryDailyInfo[i].diaryDate.substring(0, 10);\n    var AmPm = hour >= 12 ? 'pm' : 'am';\n    hour = hour % 12 || 12;\n    var diaryTime = hour + ':' + minute + ' ' + AmPm;\n\n    var foodList = _toConsumableArray(myDietDiaryDailyInfo[i].dietFindResList);\n\n    for (var j = 0; j < foodList.length; j++) {\n      kcals += foodList[j].kcal * (foodList[j].weight / 100);\n    }\n\n    diaryInfoList.push({\n      diaryNo: myDietDiaryDailyInfo[i].diaryNo,\n      mealTime: myDietDiaryDailyInfo[i].mealTime,\n      diaryDate: diaryDate,\n      diaryTime: diaryTime,\n      kcal: kcals,\n      printKcal: kcals.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','),\n      description: myDietDiaryDailyInfo[i].description,\n      imagePath: myDietDiaryDailyInfo[i].imagePath,\n      imageFullPath: \"{myDietDiaryDailyInfo[i].imagePath}\",\n      isShared: myDietDiaryDailyInfo[i].isShared\n    });\n    kcalList.push(kcals); // 총 합을 위한\n  }\n\n  var totalKcal = 0;\n\n  if (kcalList.length > 0) {\n    totalKcal = kcalList.reduce(function (total, currentValue) {\n      return total + currentValue;\n    });\n    totalKcal = totalKcal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n\n  var now = new Date(); // 현재 날짜 및 시간\n\n  var year = now.getFullYear(); // 연도\n\n  var month = now.getMonth(); // 월\n\n  var day = now.getDate(); // 일\n\n  var userYear = me.birthday.substring(0, 4);\n  var userMonth = me.birthday.substring(5, 7);\n  var userDay = me.birthday.substring(9, 10); // 유저 만 나이 구하기\n\n  var age = 0;\n\n  if (month < userMonth) {\n    age = year - userYear - 1;\n  } else if (month == userYear) {\n    if (day < userDay) {\n      age = year - userYear - 1;\n    }\n  } // 유저 기초대사량 구하기 (Mifflin-St Jeor Equation)\n\n\n  var bmr = 0;\n\n  if (!me.gender) {\n    // 남성인 경우\n    bmr = me.weight * 10 + me.height * 6.25 - 5 * age + 5;\n  } else {\n    // 여성인 경우\n    bmr = me.weight * 10 + me.height * 6.25 - 5 * age - 161;\n  } // 하루 필요 에너지\n  // 1. 활동이 적은 경우 1.2\n  // 2. 적당한 활동이 있는 경우 1.35 (v)\n  // 3. 운동 선수나 하루종일 몸을 사용하는 일을 하는 경우 1.5\n\n\n  bmr = Math.round(bmr * 1.35);\n  var suggestTotalKcal = bmr.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  var history = useHistory();\n\n  var goBack = function goBack() {\n    history.push('/mydiet');\n  };\n\n  var clickAddBtn = function clickAddBtn() {\n    // 일정 생성 폼에 date 넘겨주기\n    history.push(\"/mydietregister/\".concat(date));\n  };\n\n  var handleShareDietDiary = function handleShareDietDiary() {\n    dispatch({\n      type: SHARE_BOARD_REGISTER_REQUEST,\n      data: {\n        diaryNo: shareDiaryNo,\n        shareDescription: shareDescription,\n        hit: 0,\n        createdAt: ''\n      }\n    });\n    setOpen(false); // 모달 창 닫기\n\n    history.push(\"/sharedboard\"); // 공유게시판 등록 페이지에 diaryNo 넘겨주기\n  };\n\n  var clickDeleteBtn = function clickDeleteBtn(info) {\n    if (window.confirm('정말 삭제하시겠습니까?')) {\n      dispatch({\n        type: MY_DIET_DIARY_DELETE_REQUEST,\n        data: {\n          date: info\n        }\n      });\n      alert('삭제되었습니다');\n    } else {\n      alert('취소되었습니다.');\n    }\n  };\n\n  var clickDietDiaryItem = function clickDietDiaryItem(diaryNo) {\n    history.push(\"/mydietdetail/\".concat(date, \"/\").concat(diaryNo));\n  };\n\n  useEffect(function () {\n    dispatch({\n      type: MY_DIET_DIARY_DAILY_INFO_REQUEST,\n      data: {\n        date: date\n      }\n    });\n  }, [myDietDiaryDeleteDone, shareBoardDeleteDone]); // 삭제 event가 발생하면 새로 일별 식단 일지 리스트 가져오기\n\n  return /*#__PURE__*/React.createElement(DietDiaryItemWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MenuTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }\n  }, dailyDate, \" \\uC2DD\\uB2E8\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    style: {\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ArrowBackIosOutlinedIcon, {\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: function onClick() {\n      goBack();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    style: {\n      textAlign: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Fab, {\n    style: addButton,\n    \"aria-label\": \"add\",\n    onClick: clickAddBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }\n  }, diaryInfoList.map(function (info) {\n    return /*#__PURE__*/React.createElement(DietDiaryItem, {\n      key: info.diaryNo,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      sx: {\n        marginTop: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 5,\n      style: {\n        textAlign: 'left'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DiaryImg, {\n      src: \"cassets/images/effect3.svg\" //info.imageFullPath\n      ,\n      alt: \"\\uC2DD\\uB2E8 \\uC774\\uBBF8\\uC9C0\",\n      onClick: function onClick() {\n        return clickDietDiaryItem(info.diaryNo);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 7,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DiaryItemWrapper, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(DiaryItemLeftWrapper, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(DiaryTitle, {\n      style: {\n        marginTop: '10px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 27\n      }\n    }, info.mealTime)), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      style: {\n        textAlign: 'right',\n        marginTop: '0'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"delete\",\n      size: \"large\",\n      fontSize: \"inherit\",\n      onClick: function onClick() {\n        return clickDeleteBtn(info);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(DeleteIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 27\n      }\n    })))), /*#__PURE__*/React.createElement(DiaryTime, {\n      style: fontNormal,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 23\n      }\n    }, info.diaryTime), /*#__PURE__*/React.createElement(DiaryKcal, {\n      style: fontNormal,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 23\n      }\n    }, info.printKcal, \" kcal\"), /*#__PURE__*/React.createElement(DiaryDesc, {\n      style: fontNormal,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 23\n      }\n    }, info.description)), /*#__PURE__*/React.createElement(DiaryItemRightWrapper, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 19\n      }\n    }, info.isShared ? /*#__PURE__*/React.createElement(SharedButton, {\n      onClick: function onClick() {\n        return handleCancelShare(info);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 25\n      }\n    }, \"Shared\") : /*#__PURE__*/React.createElement(ShareButton, {\n      onClick: function onClick() {\n        return handleOpen(info);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 23\n      }\n    }, \"Share\"), /*#__PURE__*/React.createElement(Modal, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"modal-modal-title\",\n      \"aria-describedby\": \"modal-modal-description\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      sx: shareBox,\n      onKeyPress: handleConfirmKeyPress,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      id: \"modal-modal-title\",\n      component: \"h2\",\n      style: modalTitle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 25\n      }\n    }, \"\\uC2DD\\uB2E8 \\uACF5\\uC720\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      id: \"modal-modal-description\",\n      sx: {\n        mt: 2\n      },\n      style: fontNormal,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 25\n      }\n    }, \"\\uC2DD\\uB2E8 \\uACF5\\uC720\\uC640 \\uD568\\uAED8 \\uCD94\\uAC00 \\uC124\\uBA85\\uC744 \\uC801\\uC5B4\\uC8FC\\uC138\\uC694.\"), /*#__PURE__*/React.createElement(DescriptionArea, {\n      maxRows: 4,\n      \"aria-label\": \"maximum height\",\n      placeholder: \"this is description...\",\n      onChange: function onChange(event) {\n        setShareDescription(event.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(ButtonWrapper, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CancelButton, {\n      onClick: handleClose,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 27\n      }\n    }, \"\\uB2EB\\uAE30\"), /*#__PURE__*/React.createElement(ConfirmButton, {\n      onClick: handleShareDietDiary,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 27\n      }\n    }, \"\\uD655\\uC778\"))))))))));\n  })), /*#__PURE__*/React.createElement(TotalKcal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 7\n    }\n  }, \"Total Kcal : \", totalKcal, \" kcal\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }\n  }, \"(\", me.userName, \"\\uB2D8\\uC758 \\uD558\\uB8E8 \\uAD8C\\uC7A5 \\uC12D\\uCDE8 \\uCE7C\\uB85C\\uB9AC\\uB294 \", /*#__PURE__*/React.createElement(Bold, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 43\n    }\n  }, suggestTotalKcal, \" Kcal\"), \" \\uC785\\uB2C8\\uB2E4.)\"));\n}","map":{"version":3,"sources":["C:/Users/JUN-D/Desktop/헬스케어/11_6/HELM/front/src/components/MyDiet/MyDietDaily.jsx"],"names":["React","useEffect","useState","Box","Fab","Grid","AddIcon","Typography","Modal","DeleteIcon","IconButton","ArrowBackIosOutlinedIcon","IMAGE_URL","MY_DIET_DIARY_DAILY_INFO_REQUEST","MY_DIET_DIARY_DELETE_REQUEST","SHARE_BOARD_REGISTER_REQUEST","SHARE_BOARD_DELETE_REQUEST","DietDiaryItemWrapper","addButton","ShareButton","DietDiaryItem","TotalKcal","shareBox","DescriptionArea","ButtonWrapper","ConfirmButton","CancelButton","Bold","DiaryItemWrapper","DiaryItemLeftWrapper","DiaryItemRightWrapper","DiaryImg","DiaryTitle","DiaryTime","DiaryKcal","DiaryDesc","fontNormal","MenuTitle","SharedButton","modalTitle","useHistory","useParams","useDispatch","useSelector","useSelect","convertMonth","month","MyDietDaily","dispatch","date","state","myDiet","myDietDiaryDailyInfo","myDietDiaryDeleteDone","mypage","me","shareBoard","shareBoardDeleteDone","open","setOpen","shareDiaryNo","setShareDiaryNo","shareDescription","setShareDescription","handleOpen","info","diaryNo","handleClose","handleCancelShare","window","confirm","type","data","alert","handleConfirmKeyPress","event","key","handleShareDietDiary","dailyDate","substring","kcalList","diaryInfoList","i","length","kcals","hour","diaryDate","minute","AmPm","diaryTime","foodList","dietFindResList","j","kcal","weight","push","mealTime","printKcal","toString","replace","description","imagePath","imageFullPath","isShared","totalKcal","reduce","total","currentValue","now","Date","year","getFullYear","getMonth","day","getDate","userYear","birthday","userMonth","userDay","age","bmr","gender","height","Math","round","suggestTotalKcal","history","goBack","clickAddBtn","hit","createdAt","clickDeleteBtn","clickDietDiaryItem","textAlign","cursor","map","marginTop","display","flexDirection","alignItems","mt","target","value","userName"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Box from '@mui/material/Box';\nimport Fab from '@mui/material/Fab';\nimport Grid from '@mui/material/Grid';\nimport AddIcon from '@mui/icons-material/Add';\nimport Typography from '@mui/material/Typography';\nimport Modal from '@mui/material/Modal';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport IconButton from '@mui/material/IconButton';\nimport ArrowBackIosOutlinedIcon from '@mui/icons-material/ArrowBackIosOutlined';\nimport { IMAGE_URL } from '../../utils/https';\nimport {\n  MY_DIET_DIARY_DAILY_INFO_REQUEST,\n  MY_DIET_DIARY_DELETE_REQUEST,\n} from '../../store/modules/myDiet';\nimport { \n  SHARE_BOARD_REGISTER_REQUEST,\n  SHARE_BOARD_DELETE_REQUEST,\n} from '../../store/modules/shareBoard';\nimport {\n  DietDiaryItemWrapper,\n  addButton,\n  ShareButton,\n  DietDiaryItem,\n  TotalKcal,\n  shareBox,\n  DescriptionArea,\n  ButtonWrapper,\n  ConfirmButton,\n  CancelButton,\n  Bold,\n  DiaryItemWrapper,\n  DiaryItemLeftWrapper,\n  DiaryItemRightWrapper,\n  DiaryImg,\n  DiaryTitle,\n  DiaryTime,\n  DiaryKcal,\n  DiaryDesc,\n  fontNormal,\n  MenuTitle,\n  SharedButton,\n  modalTitle,\n} from './MyDiet.style';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSelect } from '@mui/base';\n\n\nfunction convertMonth(month) {\n  switch(month) {\n    case '01': \n      return 'Jan';\n    case '02': \n      return 'Feb';\n    case '03': \n      return 'Mar';\n    case '04': \n      return 'Apr';\n    case '05':\n      return 'May';\n    case '06': \n      return 'Jun';\n    case '07':\n      return 'Jul';\n    case '08':\n      return 'Aug';\n    case '09': \n      return 'Sep';\n    case '10':\n      return 'Oct';\n    case '11': \n      return 'Nov';\n    case '12':\n      return 'Dec';\n  }\n}\n\nexport default function MyDietDaily() {\n  const dispatch = useDispatch();\n  const date = useParams().date;\n  const { myDietDiaryDailyInfo, myDietDiaryDeleteDone } = useSelector(\n    (state) => state.myDiet\n  );\n  const { me } = useSelector(state => state.mypage);\n  const { shareBoardDeleteDone } = useSelector(state => state.shareBoard);\n\n  const [open, setOpen] = useState(false);\n  const [shareDiaryNo, setShareDiaryNo] = useState('');\n  const [shareDescription, setShareDescription] = useState('');\n\n  const handleOpen = (info) => {\n    setShareDiaryNo(info.diaryNo);\n    setOpen(true);\n  };\n  const handleClose = () => setOpen(false);\n\n  const handleCancelShare = (info) => {\n    if(window.confirm('식단 공유를 중지하시겠습니까?')) {\n      dispatch({\n        type: SHARE_BOARD_DELETE_REQUEST,\n        data: {\n          diaryNo: info.diaryNo,\n        }\n      });\n      // history.push(`/sharedBoard`);\n    } else {\n      alert('취소되었습니다.');\n    }\n  }\n\n  const handleConfirmKeyPress = (event) => {\n    if(event.key === 'Enter') {\n      handleShareDietDiary();\n    }\n  }\n\n  var dailyDate = convertMonth(date.substring(5,7)) + ' ' + date.substring(8,10) + ', ' + date.substring(0,4);\n\n  const kcalList = [];\n  const diaryInfoList = [];\n  for (let i = 0; i < myDietDiaryDailyInfo.length; i++) {\n    var kcals = 0;\n    var hour = myDietDiaryDailyInfo[i].diaryDate.substring(11, 13);\n    var minute = myDietDiaryDailyInfo[i].diaryDate.substring(14, 16);\n    const diaryDate = myDietDiaryDailyInfo[i].diaryDate.substring(0, 10);\n\n    var AmPm = hour >= 12 ? 'pm' : 'am';\n    hour = (hour % 12) || 12;\n\n    const diaryTime = hour + ':' + minute + ' ' + AmPm;\n    const foodList = [...myDietDiaryDailyInfo[i].dietFindResList];\n    for (let j = 0; j < foodList.length; j++) {\n      kcals += (foodList[j].kcal * (foodList[j].weight/100)) ;\n    }\n\n    diaryInfoList.push({\n      diaryNo: myDietDiaryDailyInfo[i].diaryNo,\n      mealTime: myDietDiaryDailyInfo[i].mealTime,\n      diaryDate: diaryDate,\n      diaryTime: diaryTime,\n      kcal: kcals,\n      printKcal: kcals.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','),\n      description: myDietDiaryDailyInfo[i].description,\n      imagePath: myDietDiaryDailyInfo[i].imagePath,\n      imageFullPath: `{myDietDiaryDailyInfo[i].imagePath}`,\n      isShared: myDietDiaryDailyInfo[i].isShared,\n    });\n\n    kcalList.push(kcals); // 총 합을 위한\n  }\n\n  var totalKcal = 0;\n  if (kcalList.length > 0) {\n    totalKcal = kcalList.reduce((total, currentValue) => {\n      return total + currentValue;\n    });\n    totalKcal = totalKcal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n\n  const now = new Date();   // 현재 날짜 및 시간\n  const year = now.getFullYear(); // 연도\n  const month = now.getMonth();   // 월\n  const day = now.getDate();      // 일\n  const userYear = me.birthday.substring(0, 4);\n  const userMonth = me.birthday.substring(5, 7);\n  const userDay = me.birthday.substring(9, 10);\n\n  // 유저 만 나이 구하기\n  var age = 0;\n  if(month < userMonth) {\n    age = year - userYear - 1;\n  } else if(month == userYear) {\n    if(day < userDay) {\n      age = year - userYear - 1;\n    }\n  }\n\n  // 유저 기초대사량 구하기 (Mifflin-St Jeor Equation)\n  var bmr = 0;\n  if(!me.gender) { // 남성인 경우\n      bmr = (me.weight * 10 + me.height * 6.25 - 5 * age + 5);\n  } else {         // 여성인 경우\n      bmr = (me.weight * 10 + me.height * 6.25 - 5 * age - 161);\n  }\n\n  // 하루 필요 에너지\n  // 1. 활동이 적은 경우 1.2\n  // 2. 적당한 활동이 있는 경우 1.35 (v)\n  // 3. 운동 선수나 하루종일 몸을 사용하는 일을 하는 경우 1.5\n  bmr = Math.round(bmr * 1.35);\n  var suggestTotalKcal = bmr.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\n  const history = useHistory();\n  const goBack = () => {\n    history.push('/mydiet');\n  };\n\n  const clickAddBtn = () => {\n    // 일정 생성 폼에 date 넘겨주기\n    history.push(`/mydietregister/${date}`);\n  };\n\n  const handleShareDietDiary = () => {\n    dispatch({\n      type: SHARE_BOARD_REGISTER_REQUEST,\n      data: {\n        diaryNo: shareDiaryNo,\n        shareDescription: shareDescription,\n        hit: 0,\n        createdAt: '',\n      },\n    });\n    setOpen(false); // 모달 창 닫기\n    history.push(`/sharedboard`);\n    // 공유게시판 등록 페이지에 diaryNo 넘겨주기\n  };\n\n  const clickDeleteBtn = (info) => {\n    if(window.confirm('정말 삭제하시겠습니까?')) {\n      dispatch({\n        type: MY_DIET_DIARY_DELETE_REQUEST,\n        data: { date: info },\n      });\n      alert('삭제되었습니다');\n    } else {\n      alert('취소되었습니다.');\n    }\n  };\n\n  const clickDietDiaryItem = (diaryNo) => {\n    history.push(`/mydietdetail/${date}/${diaryNo}`);\n  };\n\n  useEffect(() => {\n    dispatch({\n      type: MY_DIET_DIARY_DAILY_INFO_REQUEST,\n      data: { date: date },\n    });\n  }, [ myDietDiaryDeleteDone, shareBoardDeleteDone ]); // 삭제 event가 발생하면 새로 일별 식단 일지 리스트 가져오기\n\n  return (\n    <DietDiaryItemWrapper>\n      <MenuTitle>{dailyDate} 식단</MenuTitle>\n      <Grid container spacing={3}>\n        <Grid item xs={12} sm={6} style={{ textAlign: 'left' }}>\n          <ArrowBackIosOutlinedIcon\n            style={{ cursor: 'pointer' }}\n            onClick={() => {\n              goBack();\n            }}\n          />\n        </Grid>\n        <Grid item xs={12} sm={6} style={{ textAlign: 'right' }}>\n          <Fab style={ addButton } aria-label=\"add\" onClick={clickAddBtn} >\n            <AddIcon />\n          </Fab>\n        </Grid>\n      </Grid>\n      <div>\n        {diaryInfoList.map((info) => (\n          <DietDiaryItem key={info.diaryNo}>\n            <Box\n              sx={{\n                marginTop: 1,\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center'\n              }}>\n              <Grid container spacing={2}>\n                <Grid item xs={12} sm={5} style={{ textAlign: 'left' }}>\n                  <DiaryImg\n                    src='cassets/images/effect3.svg'//info.imageFullPath\n                    alt='식단 이미지'\n                    onClick={() => clickDietDiaryItem(info.diaryNo)}\n                  ></DiaryImg>\n                </Grid>\n                <Grid item xs={12} sm={7}>\n                  <DiaryItemWrapper>\n                    <DiaryItemLeftWrapper>\n                      <Grid container spacing={2}>\n                        <Grid item xs={12} sm={6}>\n                          <DiaryTitle style={{ marginTop: '10px' }}>{info.mealTime}</DiaryTitle>\n                        </Grid>\n                        <Grid item xs={12} sm={6} style={{ textAlign: 'right', marginTop: '0' }}>\n                        <IconButton \n                          aria-label='delete' \n                          size='large'\n                          fontSize='inherit'\n                          onClick={() => clickDeleteBtn(info)}\n                          >\n                          <DeleteIcon/>\n                        </IconButton>\n                        </Grid>\n                      </Grid> \n                      <DiaryTime style={fontNormal}>{info.diaryTime}</DiaryTime>\n                      <DiaryKcal style={fontNormal}>{info.printKcal} kcal</DiaryKcal>\n                      <DiaryDesc style={fontNormal}>{info.description}</DiaryDesc>\n                  </DiaryItemLeftWrapper>\n                  <DiaryItemRightWrapper>\n                    { info.isShared ? \n                      (\n                        <SharedButton onClick={() => handleCancelShare(info)}>Shared</SharedButton>\n                      ) : (\n                      <ShareButton onClick={() => handleOpen(info)}>\n                        Share\n                      </ShareButton>\n                      )\n                    }\n                    <Modal\n                      open={open}\n                      onClose={handleClose}\n                      aria-labelledby='modal-modal-title'\n                      aria-describedby='modal-modal-description'\n                    >\n                      <Box sx={shareBox} onKeyPress={ handleConfirmKeyPress }>\n                        <Typography \n                          id='modal-modal-title' \n                          component='h2'\n                          style={ modalTitle }>\n                          식단 공유\n                        </Typography>\n                        <hr />\n                        <Typography \n                          id='modal-modal-description' \n                          sx={{ mt: 2 }}\n                          style={fontNormal}>\n                          식단 공유와 함께 추가 설명을 적어주세요.\n                        </Typography>\n                        <DescriptionArea\n                          maxRows={4}\n                          aria-label='maximum height'\n                          placeholder='this is description...'\n                          onChange={(event) => {\n                            setShareDescription(event.target.value);\n                          }}\n                        />\n                        <ButtonWrapper>\n                          <CancelButton onClick={ handleClose }>닫기</CancelButton>\n                          <ConfirmButton\n                            onClick={ handleShareDietDiary }\n                          >\n                            확인\n                          </ConfirmButton>\n                        </ButtonWrapper>\n                      </Box>\n                    </Modal>\n                    \n                    </DiaryItemRightWrapper>\n                  </DiaryItemWrapper>\n                </Grid>\n              </Grid>\n            </Box> \n\n          </DietDiaryItem>\n        ))}\n      </div>\n      <TotalKcal>Total Kcal : {totalKcal} kcal</TotalKcal>\n      <div>({me.userName}님의 하루 권장 섭취 칼로리는 <Bold>{suggestTotalKcal} Kcal</Bold> 입니다.)</div>\n    </DietDiaryItemWrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}