{"ast":null,"code":"/**\r\n * DevExtreme (esm/exporter.js)\r\n * Version: 23.1.6\r\n * Build date: Fri Oct 13 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { fileSaver } from \"./exporter/file_saver\";\nimport { imageCreator, testFormats, getData as getImageData } from \"./exporter/image_creator\";\nimport { svgCreator, getData as getSvgData } from \"./exporter/svg_creator\";\nimport { isFunction as _isFunction, isBoolean } from \"./core/utils/type\";\nimport { Deferred } from \"./core/utils/deferred\";\nimport { getData } from \"./exporter/pdf_creator\";\n\nfunction _export(data, options, getData) {\n  if (!data) {\n    return new Deferred().resolve();\n  }\n\n  var exportingAction = options.exportingAction;\n  var exportedAction = options.exportedAction;\n  var fileSavingAction = options.fileSavingAction;\n  var eventArgs = {\n    fileName: options.fileName,\n    format: options.format,\n    cancel: false\n  };\n\n  if (isBoolean(options.selectedRowsOnly)) {\n    eventArgs.selectedRowsOnly = options.selectedRowsOnly;\n  }\n\n  _isFunction(exportingAction) && exportingAction(eventArgs);\n\n  if (!eventArgs.cancel) {\n    return getData(data, options).then(function (blob) {\n      _isFunction(exportedAction) && exportedAction();\n\n      if (_isFunction(fileSavingAction)) {\n        eventArgs.data = blob;\n        fileSavingAction(eventArgs);\n      }\n\n      if (!eventArgs.cancel) {\n        var format = \"xlsx\" === options.format ? \"EXCEL\" : options.format;\n        fileSaver.saveAs(eventArgs.fileName, format, blob);\n      }\n    });\n  }\n\n  return new Deferred().resolve();\n}\n\nexport { _export as export, fileSaver };\nexport var image = {\n  creator: imageCreator,\n  getData: getImageData,\n  testFormats: testFormats\n};\nexport var pdf = {\n  getData: getData\n};\nexport var svg = {\n  creator: svgCreator,\n  getData: getSvgData\n};","map":null,"metadata":{},"sourceType":"module"}